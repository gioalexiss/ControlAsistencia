<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="keywords" content="">
  <meta name="author" content="">
  <meta name="robots" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="W3crm:Customer Relationship Management Admin Bootstrap 5 Template">
  <meta property="og:title" content="W3crm:Customer Relationship Management Admin Bootstrap 5 Template">
  <meta property="og:description" content="W3crm:Customer Relationship Management Admin Bootstrap 5 Template">
  <meta property="og:image" content="https://w3crm.dexignzone.com/xhtml/social-image.png">
  <meta name="format-detection" content="telephone=no">

  <!-- PAGE TITLE HERE -->
  <title>Mis Grupos - IPN Control de Asistencia</title>
  <!-- FAVICONS ICON -->
  <link rel="shortcut icon" type="image/png" href="/assets/images/favicon.png">

  <link href="/assets/vendor/bootstrap-select/dist/css/bootstrap-select.min.css" rel="stylesheet">
  <link href="/assets/vendor/swiper/css/swiper-bundle.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.6.4/nouislider.min.css">
  <link href="/assets/vendor/datatables/css/jquery.dataTables.min.css" rel="stylesheet">
  <link href="/assets/vendor/jvmap/jquery-jvectormap.css" rel="stylesheet">
  <link href="https://cdn.datatables.net/buttons/1.6.4/css/buttons.dataTables.min.css" rel="stylesheet">
  <link href="/assetsvendor/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css" rel="stylesheet">

  <!-- tagify-css -->
  <link href="/assets/vendor/tagify/dist/tagify.css" rel="stylesheet">

  <!-- Style css -->
  <link href="/assets/css/style.css" rel="stylesheet">

</head>
<body data-typography="poppins"
      data-theme-version="dark"
      data-layout="vertical"
      data-nav-headerbg="black"
      data-headerbg="color_1"
      style="background:#fff url(/assets/images/background/bg6.jpg); height:100vh;"
      class="bg-img-fix overflow-hidden">

<!--*******************
    Preloader start
********************-->
<div id="preloader">
  <div class="lds-ripple">
    <div></div>
    <div></div>
  </div>
</div>
<!--*******************
    Preloader end
********************-->

<!--**********************************
    Main wrapper start
***********************************-->
<div id="main-wrapper">

  <!--**********************************
      Inicio del encabezado de navegación
  ***********************************-->
  <div class="nav-header">
    <a href="/index" class="brand-logo">
      <img src="/assets/images/logo/logolema.png" width="35" height="45">
      <svg height="50" width="500" xmlns="http://www.w3.org/2000/svg" class="brand-title">
        <text x="5" y="30" fill="white" class="montserrat-text">Instituto Politécnico Nacional</text>
      </svg>
    </a>
    <div class="nav-control">
      <div class="hamburger">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
  </div>
  <!--**********************************
      Fin del encabezado de navegacion
  ***********************************-->

  <!--**********************************
      Inicio del encabezado
  ***********************************-->
  <div class="header">
    <div class="header-content">
      <nav class="navbar navbar-expand">
        <div class="collapse navbar-collapse justify-content-between">
          <div class="header-left">
            <!-- Barra de búsqueda -->
            <div class="input-group search-area">
                                <span class="input-group-text"><a href="javascript:void(0)">
                                    <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <circle cx="8.78605" cy="8.78605" r="8.23951" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                                        <path d="M14.5168 14.9447L17.7471 18.1667" stroke="white" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </a></span>
              <input type="text" class="form-control" placeholder="Buscar grupos...">
            </div>
          </div>
          <ul class="navbar-nav header-right">
            <!-- Botón de cerrar sesión -->
            <li class="nav-item align-items-center header-border">
              <form action="/logout" method="post">
                <button type="submit" class="btn btn-primary btn-sm">Cerrar Sesión</button>
              </form>
            </li>
          </ul>
        </div>
      </nav>
    </div>
  </div>
  <!--**********************************
      Fin del encabezado
  ***********************************-->

  <!--**********************************
      Comienzo de la barra lateral
  ***********************************-->
  <div class="deznav">
    <div class="deznav-scroll">
      <ul class="metismenu" id="menu">
        <li class="menu-title">Control de Asistencia</li>

        <!--Pestaña para el panel principal-->
        <li>
          <a id="linkDashboard" href="/index" aria-expanded="false">
            <div class="menu-icon">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M2.5 7.49999L10 1.66666L17.5 7.49999V16.6667C17.5 17.1087 17.3244 17.5326 17.0118 17.8452C16.6993 18.1577 16.2754 18.3333 15.8333 18.3333H4.16667C3.72464 18.3333 3.30072 18.1577 2.98816 17.8452C2.67559 17.5326 2.5 17.1087 2.5 16.6667V7.49999Z" stroke="#888888" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M7.5 18.3333V10H12.5V18.3333" stroke="#888888" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <span class="nav-text">Panel Principal</span>
          </a>
        </li>

        <!--Pestaña para los grupos - ACTIVA -->
        <li>
          <a id="linkMisGrupos" href="/grupos" class="active" aria-expanded="false">
            <div class="menu-icon">
              <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M10.986 14.0673C7.4407 14.0673 4.41309 14.6034 4.41309 16.7501C4.41309 18.8969 7.4215 19.4521 10.986 19.4521C14.5313 19.4521 17.5581 18.9152 17.5581 16.7693C17.5581 14.6234 14.5505 14.0673 10.986 14.0673Z" stroke="#1E90FF" stroke-linecap="round" stroke-linejoin="round"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M10.986 11.0054C13.3126 11.0054 15.1983 9.11881 15.1983 6.79223C15.1983 4.46564 13.3126 2.57993 10.986 2.57993C8.65944 2.57993 6.77285 4.46564 6.77285 6.79223C6.76499 9.11096 8.63849 10.9975 10.9563 11.0054H10.986Z" stroke="#1E90FF" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <span class="nav-text">Mis grupos</span>
          </a>
        </li>

        <!--Pestaña para tomar asistencia-->
        <li>
          <a id="linkTomarAsistencia" href="#" aria-expanded="false">
            <div class="menu-icon">
              <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M14.9732 2.52102H7.0266C4.25735 2.52102 2.52118 4.48177 2.52118 7.25651V14.7438C2.52118 17.5186 4.2491 19.4793 7.0266 19.4793H14.9723C17.7507 19.4793 19.4795 17.5186 19.4795 14.7438V7.25651C19.4795 4.48177 17.7507 2.52102 14.9732 2.52102Z" stroke="#888888" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M7.73657 11.0002L9.91274 13.1754L14.2632 8.82493" stroke="#888888" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <span class="nav-text">Tomar asistencia</span>
          </a>
        </li>

        <!--Pestaña para los reportes-->
        <li>
          <a id="linkReportes" href="#" aria-expanded="false">
            <div class="menu-icon">
              <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.75713 9.35157V15.64" stroke="#888888" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M11.0349 6.34253V15.64" stroke="#888888" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M15.2428 12.6746V15.64" stroke="#888888" stroke-linecap="round" stroke-linejoin="round"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M15.2952 1.83333H6.70474C3.7103 1.83333 1.83331 3.95274 1.83331 6.95306V15.0469C1.83331 18.0473 3.70157 20.1667 6.70474 20.1667H15.2952C18.2984 20.1667 20.1666 18.0473 20.1666 15.0469V6.95306C20.1666 3.95274 18.2984 1.83333 15.2952 1.83333Z" stroke="#888888" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <span class="nav-text">Reportes</span>
          </a>
        </li>

        <!--Pestaña para el horario-->
        <li>
          <a href="#" id="linkMiHorario" aria-expanded="false">
            <div class="menu-icon">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="3" y="5" width="18" height="16" rx="2" stroke="#888888" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M16 3V7M8 3V7M3 11H21" stroke="#888888" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <span class="nav-text">Mi Horario</span>
          </a>
        </li>
      </ul>
    </div>
  </div>
  <!--**********************************
      Fin de la barra lateral
  ***********************************-->

  <!--**********************************
      Inicio del cuerpo del contenido
  ***********************************-->
  <div class="content-body">

    <!-- Breadcrumb -->
    <div class="page-titles">
      <ol class="breadcrumb">
        <li><h5 class="bc-title">Mis Grupos</h5></li>
        <li class="breadcrumb-item"><a href="/index">
          <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M2.125 6.375L8.5 1.41667L14.875 6.375V14.1667C14.875 14.5424 14.7257 14.9027 14.4601 15.1684C14.1944 15.4341 13.8341 15.5833 13.4583 15.5833H3.54167C3.16594 15.5833 2.80561 15.4341 2.53993 15.1684C2.27426 14.9027 2.125 14.5424 2.125 14.1667V6.375Z" stroke="#2C2C2C" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M6.375 15.5833V8.5H10.625V15.5833" stroke="#2C2C2C" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          Panel Principal
        </a></li>
        <li class="breadcrumb-item active"><a href="javascript:void(0)">Mis Grupos</a></li>
      </ol>
    </div>

    <!-- Contenido Principal de Grupos -->
    <div class="container-fluid">
      <div class="row">
        <!-- Widget: Total de Grupos -->
        <div class="col-xl-3 col-lg-6 col-sm-6">
          <div class="widget-stat card">
            <div class="card-body p-4">
              <div class="media ai-icon">
                                    <span class="me-3 bgl-primary text-primary">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                            <circle cx="9" cy="7" r="4"></circle>
                                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                                        </svg>
                                    </span>
                <div class="media-body">
                  <p class="mb-1">Total Grupos</p>
                  <h4 class="mb-0">8</h4>
                  <span class="badge badge-primary">+2 este semestre</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Widget: Estudiantes Activos -->
        <div class="col-xl-3 col-lg-6 col-sm-6">
          <div class="widget-stat card">
            <div class="card-body p-4">
              <div class="media ai-icon">
                                    <span class="me-3 bgl-success text-success">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                            <circle cx="8.5" cy="7" r="4"></circle>
                                            <polyline points="17 11 19 13 23 9"></polyline>
                                        </svg>
                                    </span>
                <div class="media-body">
                  <p class="mb-1">Estudiantes Activos</p>
                  <h4 class="mb-0">245</h4>
                  <span class="badge badge-success">95% asistencia</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Widget: Asistencias Hoy -->
        <div class="col-xl-3 col-lg-6 col-sm-6">
          <div class="widget-stat card">
            <div class="card-body p-4">
              <div class="media ai-icon">
                                    <span class="me-3 bgl-info text-info">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                            <line x1="16" y1="2" x2="16" y2="6"></line>
                                            <line x1="8" y1="2" x2="8" y2="6"></line>
                                            <line x1="3" y1="10" x2="21" y2="10"></line>
                                        </svg>
                                    </span>
                <div class="media-body">
                  <p class="mb-1">Asistencias Hoy</p>
                  <h4 class="mb-0">189</h4>
                  <span class="badge badge-info">87% del total</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Widget: Promedio General -->
        <div class="col-xl-3 col-lg-6 col-sm-6">
          <div class="widget-stat card bg-primary">
            <div class="card-body p-4">
              <div class="media">
                                    <span class="me-3 text-white">
                                        <i class="la la-chart-line" style="font-size: 30px;"></i>
                                    </span>
                <div class="media-body text-white">
                  <p class="mb-1">Promedio Asistencia</p>
                  <h3 class="text-white">92%</h3>
                  <div class="progress mb-2 bg-secondary">
                    <div class="progress-bar progress-animated bg-white" style="width: 92%"></div>
                  </div>
                  <small>+5% vs semestre anterior</small>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Tabla de Grupos -->
      <div class="row">
        <div class="col-12">
          <div class="card">
            <div class="card-header">
              <h4 class="card-title">Lista de Mis Grupos</h4>
            </div>
            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-striped table-bordered" id="tablaGrupos">
                  <thead class="table-dark">
                  <tr>
                    <th>Grupo</th>
                    <th>Materia</th>
                    <th>Horario</th>
                    <th>Estudiantes</th>
                    <th>Asistencia Promedio</th>
                    <th>Acciones</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr>
                    <td>5CM1</td>
                    <td>Analisis y Diseño de Sistemas</td>
                    <td>Mar-Mie 7:00-8:30</td>
                    <td>33</td>
                    <td><span class="badge badge-success">94%</span></td>
                    <td>
                      <button class="btn btn-primary btn-sm">Ver Detalles</button>
                      <button class="btn btn-info btn-sm">Tomar Asistencia</button>
                    </td>
                  </tr>
                  <tr>
                    <td>3CM2</td>
                    <td>Base de Datos</td>
                    <td>Mar-Jue 14:30-16:00</td>
                    <td>33</td>
                    <td><span class="badge badge-warning">88%</span></td>
                    <td>
                      <button class="btn btn-primary btn-sm">Ver Detalles</button>
                      <button class="btn btn-info btn-sm">Tomar Asistencia</button>
                    </td>
                  </tr>
                  <tr>
                    <td>1CM1</td>
                    <td>Matematicas Discretas</td>
                    <td>Lun-Jue-Vie 7:00-8:30</td>
                    <td>33</td>
                    <td><span class="badge badge-success">91%</span></td>
                    <td>
                      <button class="btn btn-primary btn-sm">Ver Detalles</button>
                      <button class="btn btn-info btn-sm">Tomar Asistencia</button>
                    </td>
                  </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Sección de Carga de PDF -->
      <div class="row mt-4">
        <div class="col-12">
          <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
              <h4 class="card-title">Cargar Lista de Estudiantes desde PDF</h4>
              <span class="badge badge-info">
                <i class="fa fa-info-circle"></i> Sube un PDF con boleta, nombre y correo
              </span>
            </div>
            <div class="card-body">
              <!-- Área de Carga de PDF -->
              <div class="row mb-4">
                <div class="col-md-12">
                  <div class="upload-area" id="uploadArea" style="border: 2px dashed #1E90FF; border-radius: 10px; padding: 40px; text-align: center; background-color: #f8f9fa; cursor: pointer; transition: all 0.3s;">
                    <i class="fa fa-cloud-upload" style="font-size: 48px; color: #1E90FF; margin-bottom: 15px;"></i>
                    <h5 class="mb-2">Arrastra tu PDF aquí o haz clic para seleccionar</h5>
                    <p class="text-muted mb-3">El PDF debe contener: Boleta, Nombre y Correo electrónico</p>
                    <input type="file" id="pdfFileInput" accept=".pdf" style="display: none;">
                    <button type="button" class="btn btn-primary" id="btnSelectPDF">
                      <i class="fa fa-folder-open"></i> Seleccionar PDF
                    </button>
                  </div>

                  <!-- Información del archivo seleccionado -->
                  <div id="fileInfo" class="mt-3" style="display: none;">
                    <div class="alert alert-success d-flex justify-content-between align-items-center">
                      <div>
                        <i class="fa fa-file-pdf-o"></i>
                        <strong>Archivo seleccionado:</strong>
                        <span id="fileName"></span>
                        <span class="badge badge-secondary ms-2" id="fileSize"></span>
                      </div>
                      <button type="button" class="btn btn-danger btn-sm" id="btnClearFile">
                        <i class="fa fa-times"></i> Cancelar
                      </button>
                    </div>
                    <button type="button" class="btn btn-success btn-lg w-100" id="btnProcessPDF">
                      <i class="fa fa-cogs"></i> Procesar PDF y Extraer Datos
                    </button>
                  </div>

                  <!-- Barra de progreso -->
                  <div id="progressContainer" class="mt-3" style="display: none;">
                    <div class="progress">
                      <div id="progressBar" class="progress-bar progress-bar-striped progress-bar-animated bg-success"
                           role="progressbar" style="width: 0%">0%</div>
                    </div>
                    <p class="text-center mt-2" id="progressText">Procesando PDF...</p>
                  </div>
                </div>
              </div>

              <!-- Tabla de Estudiantes Extraídos -->
              <div id="extractedDataContainer" style="display: none;">
                <hr class="my-4">
                <div class="d-flex justify-content-between align-items-center mb-3">
                  <h5 class="mb-0">
                    <i class="fa fa-users"></i> Estudiantes Extraídos del PDF
                  </h5>
                  <div>
                    <span class="badge badge-primary me-2" id="totalExtracted">0 estudiantes</span>
                    <button type="button" class="btn btn-success btn-sm" id="btnSaveStudents">
                      <i class="fa fa-save"></i> Guardar Lista
                    </button>
                    <button type="button" class="btn btn-secondary btn-sm" id="btnExportCSV">
                      <i class="fa fa-download"></i> Exportar CSV
                    </button>
                  </div>
                </div>

                <div class="table-responsive">
                  <table class="table table-striped table-bordered table-hover" id="tablaEstudiantesExtraidos">
                    <thead class="table-dark">
                      <tr>
                        <th style="width: 5%">#</th>
                        <th style="width: 20%">Boleta</th>
                        <th style="width: 40%">Nombre Completo</th>
                        <th style="width: 30%">Correo Electrónico</th>
                        <th style="width: 5%">
                          <input type="checkbox" id="selectAll" title="Seleccionar todos">
                        </th>
                      </tr>
                    </thead>
                    <tbody id="tbodyEstudiantes">
                      <!-- Los datos se llenarán dinámicamente -->
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
  <!--**********************************
      Fin del cuerpo del contenido
  ***********************************-->


</div>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Required vendors -->
<script src="/assets/vendor/global/global.min.js"></script>
<script src="/assets/vendor/chart.js/Chart.bundle.min.js"></script>
<script src="/assets/vendor/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
<script src="/assets/vendor/apexchart/apexchart.js"></script>

<!-- Datatables -->
<script src="/assets/vendor/datatables/js/jquery.dataTables.min.js"></script>
<script src="/assets/js/plugins-init/datatables.init.js"></script>

<!-- Custom Scripts -->
<script src="/assets/js/custom.js"></script>
<script src="/assets/js/deznav-init.js"></script>

<!-- PDF.js Library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
<script>
  // Configurar PDF.js worker
  pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
</script>

<!-- Script para procesamiento de PDF -->
<script src="/assets/js/sistema/pdf-processor.js"></script>

<script>
  jQuery(document).ready(function(){
      setTimeout(function(){
          dzSettingsOptions.version = 'dark';
          new dzSettings(dzSettingsOptions);
      },1500)
  });
</script>

</body>
</html>